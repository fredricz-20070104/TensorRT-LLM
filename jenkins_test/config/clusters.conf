# =============================================================================
# TensorRT-LLM 性能测试集群配置
# =============================================================================
#
# 用法:
#   python3 scripts/load_cluster_config.py <cluster_name>
#
# 格式说明:
#   [cluster_name]         - 集群标识符
#   CLUSTER_NAME          - 集群名称
#   CLUSTER_HOST          - 远程主机地址（SSH 连接用，local 类型可留空）
#   CLUSTER_USER          - 远程用户名（local 类型可留空）
#   CLUSTER_TYPE          - 集群类型: local（本地执行）或 ssh（远程SSH）
#   CLUSTER_WORKDIR       - 集群工作目录（用于同步文件和执行测试）
#   CLUSTER_PARTITION     - Slurm 分区名称
#   CLUSTER_ACCOUNT       - Slurm 账号
#   CLUSTER_STORAGE       - 集群存储路径
#   CLUSTER_LLM_DATA      - LLM 数据路径
#   DOCKER_IMAGE          - 默认 Docker 镜像
#   MPI_TYPE              - MPI 类型: pmix 或 openmpi
#   EXTRA_SRUN_PARAMS     - 额外的 srun 参数
#
# 注意:
#   - 所有测试都在集群上执行（不支持纯开发模式）
#   - local 类型: 在集群的登录节点上直接运行（不需要 SSH）
#   - ssh 类型: 通过 SSH 连接到远程集群
# =============================================================================

# ============================================
# GB200 - Selene Cluster
# ============================================
[gb200]
CLUSTER_NAME=gb200
CLUSTER_HOST=oci-hsg-cs-001-login-01
CLUSTER_USER=fredricz
CLUSTER_TYPE=ssh
CLUSTER_WORKDIR=/home/fredricz/jenkins_trtllm_perf
CLUSTER_PARTITION=batch
CLUSTER_ACCOUNT=coreai_comparch_trtllm
CLUSTER_STORAGE=/lustre/fs1/portfolios/coreai/projects/coreai_comparch_trtllm/common
CLUSTER_LLM_DATA=/lustre/fs1/portfolios/coreai/projects/coreai_comparch_trtllm/common
DOCKER_IMAGE=nvcr.io/nvidia/tensorrt-llm:latest
MPI_TYPE=pmix
EXTRA_SRUN_PARAMS=--gres=gpu:4

# ============================================
# GB300 - Lyris Cluster
# ============================================
[gb300]
CLUSTER_NAME=gb300
CLUSTER_HOST=login-lyris02
CLUSTER_USER=fredricz
CLUSTER_TYPE=local
CLUSTER_WORKDIR=/home/fredricz/jenkins_trtllm_perf
CLUSTER_PARTITION=gb300
CLUSTER_ACCOUNT=coreai_comparch_trtllm
CLUSTER_STORAGE=/lustre/fsw/coreai_comparch_trtllm/common
CLUSTER_LLM_DATA=/lustre/fsw/coreai_comparch_trtllm/common
DOCKER_IMAGE=nvcr.io/nvidia/tensorrt-llm:latest
MPI_TYPE=pmix
EXTRA_SRUN_PARAMS=

# ============================================
# GB200_LYRIS - Lyris Cluster GB200 Partition
# ============================================
[gb200_lyris]
CLUSTER_NAME=gb200_lyris
CLUSTER_HOST=login-lyris02
CLUSTER_USER=fredricz
CLUSTER_TYPE=local
CLUSTER_WORKDIR=/home/fredricz/jenkins_trtllm_perf
CLUSTER_PARTITION=gb200
CLUSTER_ACCOUNT=coreai_comparch_trtllm
CLUSTER_STORAGE=/lustre/fsw/coreai_comparch_trtllm/common
CLUSTER_LLM_DATA=/lustre/fsw/coreai_comparch_trtllm/common
DOCKER_IMAGE=nvcr.io/nvidia/tensorrt-llm:latest
MPI_TYPE=pmix
EXTRA_SRUN_PARAMS=


