version: 0.0.1
l0_gb200_multi_nodes_perf_sanity_ctx1_node1_gpu4:
- condition:
    ranges:
      # 1 ctx worker with each 1 node and 4 GPUs
      # ctx only tests (no gen worker)
      system_gpu_count:
        gte: 4
        lte: 4
    wildcards:
      gpu:
      - '*gb200*'
    terms:
      stage: post_merge
      backend: pytorch
  tests:
  # - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-r1-fp4_1k1k_con1024_ctx1_dep4_gen1_dep32_eplb0_mtp3_ccb-UCX] TIMEOUT (120)
  # - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-r1-fp4_1k1k_con1024_ctx1_dep4_gen1_dep8_eplb0_mtp0_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-r1-fp4_1k1k_con1_ctx1_dep4_gen1_tep8_eplb0_mtp3_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-r1-fp4_1k1k_con3072_ctx1_dep4_gen1_dep4_eplb0_mtp1_ccb-UCX] TIMEOUT (120)
  # - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-r1-fp4_8k1k_con1024_ctx1_dep4_gen1_dep32_eplb0_mtp3_ccb-UCX] TIMEOUT (120)
  # - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-r1-fp4_8k1k_con1_ctx1_dep4_gen1_tep8_eplb0_mtp3_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-r1-fp4_8k1k_con4096_ctx1_dep4_gen1_dep16_eplb0_mtp1_ccb-UCX] TIMEOUT (120)
  # - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-v32-fp4_1k1k_con1024_ctx1_dep4_gen1_dep32_eplb256_mtp3_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-v32-fp4_1k1k_con1_ctx1_dep4_gen1_tep8_eplb0_mtp3_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-v32-fp4_1k1k_con2048_ctx1_dep4_gen1_dep4_eplb0_mtp1_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-v32-fp4_32k4k_con1_ctx1_dep4_gen1_tep8_eplb0_mtp3_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-v32-fp4_32k4k_con2048_ctx1_dep4_gen1_dep32_eplb288_mtp1_ccb-UCX] TIMEOUT (120)
  # - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-v32-fp4_32k4k_con256_ctx1_dep4_gen1_dep32_eplb0_mtp3_ccb-UCX] TIMEOUT (120)
  # - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-v32-fp4_8k1k_con1024_ctx1_dep4_gen1_dep32_eplb256_mtp3_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-v32-fp4_8k1k_con1_ctx1_dep4_gen1_tep8_eplb0_mtp3_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_deepseek-v32-fp4_8k1k_con4096_ctx1_dep4_gen1_dep32_eplb256_mtp0_ccb-UCX] TIMEOUT (120)
  # - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_kimi-k2-thinking-fp4_1k1k_con2048_ctx1_dep4_gen1_dep32_eplb384_mtp0_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_kimi-k2-thinking-fp4_1k1k_con4096_ctx1_dep4_gen1_dep8_eplb0_mtp0_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_kimi-k2-thinking-fp4_1k1k_con4_ctx1_dep4_gen1_tep4_eplb0_mtp0_ccb-UCX] TIMEOUT (120)
  # - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_kimi-k2-thinking-fp4_8k1k_con1024_ctx1_dep4_gen1_dep32_eplb416_mtp3_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_kimi-k2-thinking-fp4_8k1k_con4096_ctx1_dep4_gen1_dep16_eplb384_mtp0_ccb-UCX] TIMEOUT (120)
  - perf/test_perf_sanity.py::test_e2e[disagg_upload-gb200_ctx_only_kimi-k2-thinking-fp4_8k1k_con4_ctx1_dep4_gen1_tep8_eplb0_mtp3_ccb-UCX] TIMEOUT (120)
